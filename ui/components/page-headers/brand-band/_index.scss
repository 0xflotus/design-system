// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license

/**
 * @name brand-band
 * @selector .slds-brand-band
 * @restrict .slds-page-header
 * @variant
 */

.slds-brand-band:not(.slds-brand-band_solo) {
  // background-image: $brand-band-image; // Update path in tokens/background-color.yml
  background-image: url("/_slds/images/themes/one/mountains.png");
  background-repeat: no-repeat;
  background-size: cover;
  background-color: $brand-band-color-background-primary;
  position: relative;
  overflow: hidden;
}

// If the brand band is standalone, use this modifier. If the brand band is being extended
// into another component use slds-brand-band without this modifier
.slds-brand-band_solo {
  position: relative;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: $brand-band-color-background-primary;
    background-image: $brand-band-image;
    background-repeat: no-repeat;
    background-size: cover;
  }

  // Small Height Modifier
  &.slds-brand-band_small:before {
    height: $brand-band-image-height-small;
  }

  // Medium Height Modifier
  &.slds-brand-band_medium:before {
    height: $brand-band-image-height-medium;
  }

  // Large Height Modifier
  &.slds-brand-band_large:before {
    height: $brand-band-image-height-large;
  }
}

// If you want to cap the image width and applied a gradient bleed into a solid color
.slds-brand-band_flaps:not(.slds-brand-band_solo) {

  &:before {
    content: '';
    position: absolute;
    left: calc(#{$brand-band-image-width} - #{$brand-band-flaps-width});
    top: 0;
    width: $brand-band-flaps-width;
    height: 100%;
    background: linear-gradient(to left, $brand-band-color-background-primary 20%, transparent 100%);
    opacity: 0;
    transition: opacity 0.3s linear;
  }

  @include mq-large-min {
    background-size: $brand-band-image-width auto;

    &:before {
      opacity: 1;
    }
  }
}

// If you have want an overlay, apply this modifier
.slds-brand-band_overlay {

  .slds-brand-band__overlay {
    position: relative;
    padding: 0 $spacing-medium $spacing-small;

    &:before {
      content: '';
      position: absolute;
      top: ($spacing-medium * -1);
      right: 0;
      bottom: 0;
      left: 0;
      background: $brand-band-color-background-overlay;
      border-bottom-left-radius: $border-radius-medium;
      border-bottom-right-radius: $border-radius-medium;
      mix-blend-mode: multiply;
    }
  }

  .slds-brand-band__overlay-content {
    position: relative;
    color: $brand-band-color-text-primary;
    z-index: 1;
  }
}

// Component modifiers
.slds-brand-band {

  // Add box shadow to buttons
  .slds-button,
  .slds-button_icon,
  .slds-button-group {
    box-shadow: $shadow-soft-secondary;

    .slds-button {
      box-shadow: none;
    }
  }

  // Remove the newly added box shadow from above from page header titles
  .slds-page-header__title .slds-button,
  .slds-page-header__detail-block .slds-button {
    box-shadow: none;
  }
}
