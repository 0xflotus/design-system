// Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
// Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license

/**
 * The base variant is the fully featured color picker
 *
 * @summary Fully featured color picker
 *
 * @variant
 * @name base
 * @selector .slds-color-picker
 * @restrict div
 */
.slds-color-picker {
  position: relative;
}

/**
 * @summary 'Summary' element for color selection.
 *
 * @selector .slds-color-picker__summary
 * @restrict .slds-color-picker > div
 */
.slds-color-picker__summary {
  label {
    display: block;
  }

  .slds-input {
    width: 100px;
  }
}

/**
 * @summary Label for summary input
 *
 * @selector .slds-color-picker__summary-label
 * @restrict .slds-color-picker__summary > label
 */
.slds-color-picker__summary-label {
  display: block;
}


/**
 * @summary Input field for summary UI
 *
 * @selector .slds-color-picker__summary-input
 * @restrict .slds-color-picker__summary > input
 */
.slds-color-picker__summary-input  {
  width: 100px;
}

/**
 * @summary The selector subcomponent. Extends upon a .slds-popover
 *
 * @selector .slds-color-picker__selector
 * @restrict .slds-color-picker > .slds-popover
 */
.slds-color-picker__selector {
  margin-top: 10px;
  box-shadow: 1px 1px 4px rgba(0,0,0,0.4);
  border-radius: 4px;
  overflow: hidden;
  background: #fff;

  &.slds-popover {
    width: 210px;
  }
}

/**
 * @summary Footer for the Color Selector Picker
 *
 * @selector .slds-color-picker__selector-footer
 * @restrict .slds-color-picker__selector div
 */
.slds-color-picker__selector-footer {
  background: $color-background;
  display: flex;

  .slds-button {
    flex: 1;
  }
}

/**
 * @summary Swatch container
 *
 * @selector .slds-color-picker__swatches
 * @restrict .slds-color-picker__selector div
 */
.slds-color-picker__swatches {
  font-size: 0;
}

/**
 * @summary Custom picker selection container
 *
 * @selector .slds-color-picker__custom
 * @restrict .slds-color-picker__selector div
 */
.slds-color-picker__custom {
  &.slds-tabs--default__content {
    padding-bottom: 0.5rem;
  }
}

/**
 * @summary Custom picker range element
 *
 * @selector .slds-color-picker__custom-range
 * @restrict .slds-color-picker__custom div
 */
.slds-color-picker__custom-range {
  position: relative;
  margin-bottom: 5px;
  height: 5rem;
  border: 1px solid #ddd;
  border-radius: $border-radius-medium;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,.9) 1%, rgba(0,0,0,0) 99%),
                linear-gradient(to right, rgba(255,255,255,1) 1%, rgba(255,255,255,0));
  }
}

/**
 * @summary
 *
 * @selector .slds-color-picker__range-selector
 * @restrict .slds-color-picker__custom-range > div
 */
.slds-color-picker__range-selector {
  cursor: pointer;
  position: absolute;
  margin: -6px 0 0 -6px;
  height: 12px;
  width: 12px;
  border: 2px solid #fff;
  border-radius: $border-radius-circle;
  box-shadow: 0 0 2px rgba(0,0,0,0.6),
              inset 0 0 2px rgba(0,0,0,0.6);
}

/**
 * @summary Container element for the hue slider and preview swatch
 *
 * @selector .slds-color-picker__hue-and-preview
 * @restrict .slds-color-picker__custom div
 */
.slds-color-picker__hue-and-preview {
  display: flex;
}

/**
 * @summary The slide input that controls the hue
 *
 * @selector .slds-color-picker__hue-slider
 * @restrict .slds-color-picker__hue-and-preview input
 */
.slds-color-picker__hue-slider {
  $colorStops: ();
  $colorStep: 5;
  $hue: 0;

  @while $hue < 360 {
    $newStop: hsl($hue, 100%, 50%);
    $colorStops: join($colorStops, $newStop, comma);
    $hue: $hue + $colorStep;
  }

  appearance: none;
  flex: 1;
  height: 25px;
  width: 100%;
  border: 1px solid #ddd;
  border-radius: $border-radius-medium;
  background: linear-gradient(
    to right,
    $colorStops
  );

  &:focus {
    outline: none;
  }

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 25px;
    width: 7px;
    background: #e8eef9;
    border: 1px solid rgba(0,0,0,0.3);
    border-radius: $border-radius-small;
  }

}

/**
 * @summary The group of direct input elements
 *
 * @selector .slds-color-picker__custom-inputs
 * @restrict .slds-color-picker__custom > div
 */
.slds-color-picker__custom-inputs {
  display: flex;
  padding-top: 0.6rem;

  .slds-form-element {
    flex: flex-grow;
  }

  .slds-form-element:not(:first-child) {
    margin-left: 5px;
  }

  input {
    padding: 0 4px;
  }
}

.slds-color-picker__input-custom-hex {
  flex: none;
  width: 4.2rem;
  font-size: 0.75rem;
}

/**
 * @summary A swatch
 *
 * @selector .slds-swatch
 * @restrict .slds-color-picker__swatches span, .slds-color-picker__summary span, .slds-color-picker__hue-and-preview span
 */
.slds-swatch {
  display: inline-block;
  vertical-align: top;
  cursor: pointer;
  margin: 3px;
  height: 20px;
  width: 20px;
  border-radius: 3px;
}

